<!DOCTYPE html>
<html lang="es" style="background-color: #000000; margin: 0; padding: 0;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ULULATO | Contacto</title>
    
    <!-- FUENTES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Space+Grotesk:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- THREE.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        /* --- 0. VARIABLES & RESET --- */
        :root {
            --gold: #D4AF37;
            --white: #F4F4F4;
            --black: #000000;
            --font-serif: 'Cinzel', serif;
            --font-sans: 'Space Grotesk', sans-serif;
            --ease-lux: cubic-bezier(0.25, 1, 0.5, 1);
        }

        html, body { 
            margin: 0; padding: 0; 
            background-color: var(--black) !important;
            color: var(--white); 
            font-family: var(--font-sans); 
            width: 100%; height: 100%;
            overflow: hidden; /* Scroll controlado por el contenedor */
        }
        
        * { box-sizing: border-box; cursor: none; }
        
        /* Restaurar cursor normal en inputs para usabilidad */
        input, textarea { cursor: text; }
        a, button { cursor: pointer; }

        /* --- 1. FONDO WEBGL --- */
        #contact-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
            opacity: 0; transition: opacity 2s ease;
        }
        #contact-canvas.active { opacity: 0.5; }

        /* --- 2. UI NAVIGATION --- */
        .nav-bar { 
            position: fixed; top: 0; left: 0; width: 100%; 
            padding: 40px 60px; display: flex; justify-content: space-between; align-items: center; 
            z-index: 100; pointer-events: none; /* Dejar pasar clics al scroll */
        }
        .nav-bar > * { pointer-events: auto; } /* Reactivar clics en hijos */

        .brand-logo-container {
            width: 60px; height: 60px;
            perspective: 1000px;
        }
        .nav-logo {
            width: 100%; height: 100%; object-fit: contain;
            filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.4));
            animation: floatLogo 6s ease-in-out infinite, rotateLogo 20s linear infinite;
        }

        .back-link { 
            font-size: 0.8rem; letter-spacing: 0.2em; text-transform: uppercase; 
            text-decoration: none; color: rgba(255,255,255,0.6); 
            transition: 0.3s; position: relative;
            background: rgba(0,0,0,0.3); padding: 10px 15px; border-radius: 30px;
            backdrop-filter: blur(5px);
        }
        .back-link:hover { color: var(--gold); background: rgba(0,0,0,0.6); }

        /* --- 3. LAYOUT (GRID PRINCIPAL) --- */
        .page-scroll-wrapper {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto; overflow-x: hidden;
            z-index: 10;
            scrollbar-width: thin; scrollbar-color: var(--gold) transparent;
        }

        .page-container {
            display: grid; grid-template-columns: 1fr 1fr;
            min-height: 100vh; width: 100%;
            padding: 140px 60px 60px 60px;
            align-items: center;
        }

        /* --- 4. INFO COLUMN --- */
        .info-col {
            display: flex; flex-direction: column; justify-content: center;
            opacity: 0; transform: translateY(30px); 
            animation: slideUp 1s var(--ease-lux) 0.5s forwards;
        }

        h1 {
            font-family: var(--font-serif); 
            font-size: clamp(2.5rem, 4.5vw, 5rem); 
            line-height: 1;
            color: var(--white); margin-bottom: 50px;
            text-shadow: 0 4px 30px rgba(0,0,0,0.5);
        }
        h1 span { 
            display: block; color: var(--gold); 
            font-size: clamp(0.9rem, 1.8vw, 1.5rem); 
            letter-spacing: 0.3em; font-family: var(--font-sans); 
            margin-bottom: 15px; opacity: 0.9;
        }

        .contact-details { 
            margin-top: 20px; 
            border-left: 1px solid rgba(212, 175, 55, 0.3); 
            padding-left: 30px; 
        }
        .detail-item { margin-bottom: 35px; }
        .label { font-size: 0.75rem; text-transform: uppercase; color: rgba(255,255,255,0.4); letter-spacing: 0.2em; margin-bottom: 8px; }
        .value { font-size: 1.3rem; font-family: var(--font-serif); color: #fff; text-decoration: none; transition: color 0.3s; display: block; }
        .value:hover { color: var(--gold); text-shadow: 0 0 10px rgba(212, 175, 55, 0.5); }

        /* --- 5. FORM COLUMN --- */
        .form-col {
            display: flex; flex-direction: column; justify-content: center; padding-left: 12%;
            opacity: 0; transform: translateY(30px); 
            animation: slideUp 1s var(--ease-lux) 0.8s forwards;
        }

        .form-group { position: relative; margin-bottom: 45px; }
        
        input, textarea {
            width: 100%; background: transparent; border: none;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            padding: 15px 0; color: #fff; font-family: var(--font-sans); font-size: 1.1rem;
            outline: none; transition: border-color 0.3s;
            border-radius: 0; /* Fix iOS rounded corners */
        }
        
        textarea { resize: none; height: 35px; transition: height 0.3s; }
        textarea:focus { height: 100px; }

        label {
            position: absolute; top: 15px; left: 0;
            color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.85rem;
            pointer-events: none; transition: all 0.3s var(--ease-lux);
        }

        input:focus ~ label, input:valid ~ label,
        textarea:focus ~ label, textarea:valid ~ label {
            top: -20px; font-size: 0.7rem; color: var(--gold);
        }
        
        .bar { position: absolute; bottom: 0; left: 0; width: 0%; height: 1px; background: var(--gold); transition: width 0.5s var(--ease-lux); box-shadow: 0 0 10px var(--gold); }
        input:focus ~ .bar, textarea:focus ~ .bar { width: 100%; }

        .submit-btn {
            background: rgba(212, 175, 55, 0.05); 
            border: 1px solid rgba(212, 175, 55, 0.4);
            color: var(--gold); padding: 18px 50px;
            font-family: var(--font-sans); font-size: 0.9rem; letter-spacing: 0.3em; text-transform: uppercase;
            position: relative; overflow: hidden; transition: all 0.5s;
            width: fit-content; margin-top: 10px; cursor: pointer;
        }
        .submit-btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.2), transparent);
            transition: left 0.5s;
        }
        .submit-btn:hover { background: rgba(212, 175, 55, 0.1); box-shadow: 0 0 20px rgba(212, 175, 55, 0.2); letter-spacing: 0.4em; }
        .submit-btn:hover::before { left: 100%; }

        /* --- 6. CURSOR & ANIMATIONS --- */
        .cursor-dot { position: fixed; width: 8px; height: 8px; background: var(--gold); border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); box-shadow: 0 0 10px var(--gold); }
        .cursor-circle { position: fixed; width: 40px; height: 40px; border: 1px solid rgba(212, 175, 55, 0.4); border-radius: 50%; pointer-events: none; z-index: 9998; transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s, background 0.3s; }

        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes floatLogo { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        @keyframes rotateLogo { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(360deg); } }

        /* --- 7. RESPONSIVE QUERIES --- */
        
        /* Tablet & Laptops pequeños */
        @media (max-width: 1024px) {
            .page-container { padding: 120px 40px; }
            .form-col { padding-left: 5%; }
            h1 { font-size: 5vw; }
        }

        /* Mobile Devices */
        @media (max-width: 768px) {
            /* Layout Stack */
            .page-container {
                grid-template-columns: 1fr;
                padding: 100px 30px 50px 30px;
                height: auto; /* Permitir que crezca */
                min-height: 100vh;
            }

            /* Nav Bar compacta */
            .nav-bar { padding: 20px 30px; background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent); }
            .brand-logo-container { width: 45px; height: 45px; }
            .back-link { font-size: 0.7rem; padding: 8px 12px; }

            /* Textos grandes */
            .info-col { margin-bottom: 60px; text-align: left; }
            h1 { font-size: 11vw; margin-bottom: 30px; }
            h1 span { font-size: 3.5vw; letter-spacing: 0.2em; }

            /* Detalles de contacto */
            .contact-details { border-left: none; padding-left: 0; border-top: 1px solid rgba(212, 175, 55, 0.3); padding-top: 20px; }
            .value { font-size: 1.1rem; }

            /* Formulario */
            .form-col { padding-left: 0; }
            input, textarea { font-size: 16px; /* Evita zoom en iOS */ }
            
            /* Desactivar cursor personalizado en táctil */
            .cursor-dot, .cursor-circle { display: none; }
            
            /* Ajuste del canvas para que no moleste al scroll */
            #contact-canvas { opacity: 0.3 !important; }
        }
    </style>
</head>
<body>

    <!-- FONDO WEBGL -->
    <canvas id="contact-canvas"></canvas>

    <!-- BARRA DE NAVEGACIÓN -->
    <nav class="nav-bar">
        <div class="brand-logo-container">
            <img src="https://pub-8275440e24554b96ad7dd640df0866b9.r2.dev/imagenes/Logo.png" alt="Ululato" class="nav-logo">
        </div>
        <a href="index.html" class="back-link">Volver</a>
    </nav>

    <!-- WRAPPER CON SCROLL -->
    <div class="page-scroll-wrapper">
        <div class="page-container">
            
            <!-- COLUMNA IZQUIERDA -->
            <div class="info-col">
                <h1>
                    <span>CONEXIÓN PROFUNDA</span>
                    ENTRELAZA<br>TU ESENCIA
                </h1>
                
                <div class="contact-details">
                    <div class="detail-item">
                        <div class="label">Canal de Frecuencia</div>
                        <a href="mailto:hola@ululato.com" class="value">hola@ululato.com</a>
                    </div>
                    <div class="detail-item">
                        <div class="label">Nodo Físico</div>
                        <div class="value" style="font-size: 1rem; line-height: 1.6;">Bogotá, Territorio Ancestral<br>Lat 4.7110° N, Long 74.0721° W</div>
                    </div>
                    <div class="detail-item">
                        <div class="label">Ecos Digitales</div>
                        <div style="display: flex; gap: 25px; margin-top: 10px;">
                            <a href="#" class="value" style="font-size:0.9rem; font-family: var(--font-sans); border-bottom: 1px solid rgba(255,255,255,0.2);">INSTAGRAM</a>
                            <a href="#" class="value" style="font-size:0.9rem; font-family: var(--font-sans); border-bottom: 1px solid rgba(255,255,255,0.2);">LINKEDIN</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COLUMNA DERECHA -->
            <div class="form-col">
                <form id="premiumForm">
                    <div class="form-group">
                        <input type="text" id="name" required autocomplete="off">
                        <label for="name">Nombre / Entidad</label>
                        <div class="bar"></div>
                    </div>
                    
                    <div class="form-group">
                        <input type="email" id="email" required autocomplete="off">
                        <label for="email">Frecuencia (Email)</label>
                        <div class="bar"></div>
                    </div>
                    
                    <div class="form-group">
                        <textarea id="message" required autocomplete="off"></textarea>
                        <label for="message">Tu Mensaje al Origen</label>
                        <div class="bar"></div>
                    </div>

                    <button type="submit" class="submit-btn">TEJER</button>
                </form>
            </div>
        </div>
    </div>

    <!-- CURSOR -->
    <div class="cursor-dot"></div>
    <div class="cursor-circle"></div>

    <script>
        // --- 1. THREE.JS: ESFERA RESPONSIVE ---
        const canvas = document.getElementById('contact-canvas');
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
        
        function resizeRenderer() {
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        }
        resizeRenderer();

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        
        // Ajuste de cámara según dispositivo
        if(window.innerWidth < 768) {
            camera.position.z = 40; // Más lejos en móvil para que quepa
        } else {
            camera.position.z = 30;
        }

        const geometry = new THREE.IcosahedronGeometry(15, 3);
        const count = geometry.attributes.position.count;
        const positions = geometry.attributes.position.array;
        const originalPositions = Float32Array.from(positions);

        const particlesGeometry = new THREE.BufferGeometry();
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        
        const material = new THREE.PointsMaterial({
            color: 0xD4AF37,
            size: 0.15,
            transparent: true,
            opacity: 0.7,
            blending: THREE.AdditiveBlending
        });

        const sphere = new THREE.Points(particlesGeometry, material);
        scene.add(sphere);

        // Luces
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        // Interaction
        let mouseX = 0, mouseY = 0;
        
        // Detectar si es táctil
        const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

        if (!isTouch) {
            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX - window.innerWidth / 2) * 0.0005;
                mouseY = (e.clientY - window.innerHeight / 2) * 0.0005;
            });
        }

        // Loop
        const clock = new THREE.Clock();
        function animate() {
            const time = clock.getElapsedTime();

            // Rotación automática + interacción suave
            sphere.rotation.y += 0.002;
            sphere.rotation.x += (mouseY - sphere.rotation.x) * 0.05;
            sphere.rotation.z += (mouseX - sphere.rotation.z) * 0.05;

            // Efecto respiración
            const positions = particlesGeometry.attributes.position.array;
            for (let i = 0; i < count; i++) {
                const px = originalPositions[i * 3];
                const py = originalPositions[i * 3 + 1];
                const pz = originalPositions[i * 3 + 2];

                const pulse = Math.sin(time * 1.5 + py * 0.2) * 0.5 + Math.cos(time * 1.2 + px * 0.2) * 0.5;
                const scale = 1 + (pulse * 0.04);

                positions[i * 3] = px * scale;
                positions[i * 3 + 1] = py * scale;
                positions[i * 3 + 2] = pz * scale;
            }
            particlesGeometry.attributes.position.needsUpdate = true;

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        setTimeout(() => canvas.classList.add('active'), 200);

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            resizeRenderer();
            
            // Reajustar posición en resize
            if(window.innerWidth < 768) camera.position.z = 40;
            else camera.position.z = 30;
        });

        // --- 2. CURSOR (Solo Desktop) ---
        if (!isTouch) {
            const dot = document.querySelector('.cursor-dot');
            const circle = document.querySelector('.cursor-circle');
            let cx = 0, cy = 0, mx = 0, my = 0;

            window.addEventListener('mousemove', e => {
                mx = e.clientX; my = e.clientY;
                dot.style.left = mx + 'px'; dot.style.top = my + 'px';
                
                const hover = e.target.closest('a, button, input, textarea');
                if (hover) {
                    circle.style.width = '60px'; circle.style.height = '60px';
                    circle.style.backgroundColor = 'rgba(212, 175, 55, 0.05)';
                    circle.style.borderColor = 'var(--gold)';
                } else {
                    circle.style.width = '40px'; circle.style.height = '40px';
                    circle.style.backgroundColor = 'transparent';
                    circle.style.borderColor = 'rgba(212, 175, 55, 0.4)';
                }
            });

            function animateCursor() {
                cx += (mx - cx) * 0.15;
                cy += (my - cy) * 0.15;
                circle.style.left = cx + 'px'; circle.style.top = cy + 'px';
                requestAnimationFrame(animateCursor);
            }
            animateCursor();
        }

        // --- 3. BOTÓN TEJER LÓGICA ---
        const form = document.getElementById('premiumForm');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const btn = document.querySelector('.submit-btn');
            const originalText = "TEJER";
            
            btn.innerText = "HILANDO...";
            btn.style.opacity = "0.7";
            btn.style.letterSpacing = "0.1em";
            
            setTimeout(() => {
                btn.innerText = "NEXO CREADO";
                btn.style.borderColor = "#D4AF37";
                btn.style.color = "#D4AF37";
                btn.style.boxShadow = "0 0 20px rgba(212, 175, 55, 0.4)";
                btn.style.background = "rgba(212, 175, 55, 0.1)";
                form.reset();
                
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.borderColor = "rgba(212, 175, 55, 0.4)";
                    btn.style.color = "var(--gold)";
                    btn.style.opacity = "1";
                    btn.style.boxShadow = "none";
                    btn.style.background = "rgba(212, 175, 55, 0.05)";
                    btn.style.letterSpacing = "0.3em";
                }, 3000);
            }, 2000);
        });
    </script>
</body>
</html>